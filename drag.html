<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        ol.drop {
            border: 1px solid #dddddd;
            min-height: 50px;
            padding: 20px 20px 20px 40px;
        }
        ol.drop li {
            line-height: 20px;
        }
    </style>
</head>
<body>
<p>What fruits do you like?</p>
<ol ondragstart="dragStartHandler(event)" ondragend="dragEndHandler(event)">
    <li draggable="true" data-value="fruit-apple">Apples</li>
    <li draggable="true" data-value="fruit-orange">Oranges</li>
    <li draggable="true" data-value="fruit-pear">Pears</li>
</ol>

<p>Drop your favorite fruits below:</p>
<ol class="drop" ondragenter="dragEnterHandler(event)" ondragover="dragOverHandler(event)" ondrop="dropHandler(event)"></ol>

<script>
    let internalDNDType = 'text/x-example'
    function dragStartHandler(event) {
        if (event.target instanceof HTMLLIElement) {
            event.dataTransfer.setData(internalDNDType, event.target.dataset.value)
            event.dataTransfer.effectAllowed = 'move'
        } else {
            event.preventDefault()
        }
    }
    function dragEnterHandler(event) {
        let items = event.dataTransfer.items
        console.log(items)
        for (let i = 0; i < items.length; i++) {
            let item = items[i]
            console.log(item)
            if (item.kind === 'string' && item.type === internalDNDType) {
                event.preventDefault()
                return
            }
        }
    }
    function dragOverHandler(event) {
        event.dataTransfer.dropEffect = 'move'
        event.preventDefault()
    }
    function dropHandler(event) {
        let li = document.createElement('li')
        let data = event.dataTransfer.getData(internalDNDType)
        if (data === 'fruit-apple') {
            li.textContent = 'Apples'
        } else if (data === 'fruit-orange') {
            li.textContent = 'Oranges'
        } else if (data === 'fruit-pear') {
            li.textContent = 'Pears'
        } else {
            li.textContent = 'Unknown Fruit'
        }
        event.target.appendChild(li)
    }
    function dragEndHandler(event) {
        if (event.dataTransfer.dropEffect === 'move') {
            // remove the dragged element
            event.target.parentElement.removeChild(event.target)
        }
    }
</script>
</body>
</html>
